$color-1: #121212;
$color-2: lighten($color-1, 20%);
$color-3: $body-bg;
$color-4: $color-1;

// z-index
$content-zindex: 1;
$layer-nav-zindex: 2;
$nav-zindex: 3;
$layer-content-zindex: 4;
$trigger-zindex: 5;


/* --------------------------------
*/
.cd-nav-trigger {
    position: fixed;
    display: inline-block;
	top: 18px;
	right: 5%;
	height: 44px;
	width: 44px;
	z-index: $trigger-zindex;
	/* image replacement */
	overflow: hidden;
	text-indent: 100%;
	white-space: nowrap;

	.cd-icon {
		/* icon created in CSS */
		position: absolute;
		display: inline-block;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		width: 18px;
		height: 2px;
		background-color: $color-3;
		z-index: 10;

		&::before, &:after {
			/* upper and lower lines of the menu icon */
			content: '';
			position: absolute;
			top: 0;
			right: 0;
			width: 100%;
			height: 100%;
			background-color: $color-3;

			/* Force Hardware Acceleration in WebKit */
			transform: translateZ(0);
			backface-visibility: hidden;

			/* apply transition to transform property */
			transition: transform .3s;
		}

		&::before {
			transform: translateY(-6px) rotate(0deg);
		}

		&::after {
			transform: translateY(6px) rotate(0deg);
		}
	}

	&::before, &::after {
		/* 2 rounded colored backgrounds for the menu icon */
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		border-radius: 50%;
		height: 100%;
		width: 100%;
		/* Force Hardware Acceleration in WebKit */
		transform: translateZ(0);
		backface-visibility: hidden;
		transition-property: transform;
	}

	&::before {
		background-color: $color-1;
		transform: scale(1);
		transition-duration: .3s;
		transition-delay: .4s;
	}

	&::after {
		background-color: $color-3;
		transform: scale(0);
		transition-duration: 0s;
		transition-delay: 0s;
	}

	&.close-nav::before {
		/* user clicks on the .cd-nav-trigger element - 1st rounded background disappears */
		transform: scale(0);
	}

	&.close-nav::after {
		/* user clicks on the .cd-nav-trigger element - 2nd rounded background appears */
		transform: scale(1);
		transition-duration: .3s;
		transition-delay: .4s;
	}

	&.close-nav .cd-icon {
		/* user clicks on the .cd-nav-trigger element - transform the icon */
		background-color: rgba($color-4, 0);

		&::before, &::after {
			background-color: rgba($color-4, 1);
		}

		&::before {
			transform: translateY(0) rotate(45deg);
		}

		&::after {
			transform: translateY(0) rotate(-45deg);
		}
	}
}

.cd-primary-nav {
	/* by default it's hidden */
	position: fixed;
	left: 0;
	top: 0;
	height: 100%;
	width: 100%;
	padding: 80px 5%;
	@extend .list-unstyled;
	z-index: $nav-zindex;
	background-color: $color-1;
	overflow: auto;
	/* this fixes the buggy scrolling on webkit browsers - mobile devices only - when overflow property is applied */
	-webkit-overflow-scrolling: touch;
	visibility: hidden;
	opacity: 0;
	transition: visibility 0s, opacity .3s;

	li {
		margin: 1.6em auto;
		text-transform: capitalize;
		max-width: 200px;
	}

	a {
		font-size: 24px;
		transition: color .2s;

		.no-touch &:hover {
			color: $color-4;
		}

		&:hover {
			text-decoration: none;
			color: #fff;
		}
	}

	&.fade-in {
		/* navigation visible at the end of the circle animation */
		visibility: visible;
		opacity: 1;
	}

	@media (min-width: $screen-md-min) {
		li {
			margin: 2em auto;
		}

		a {
			font-size: 28px;
		}
	}

	@media (min-width: $screen-lg-min) {
		li {
			margin: 2.6em auto;
		}

		a {
			font-size: 32px;
		}
	}
}

.cd-overlay-nav, .cd-overlay-content {
	/* containers of the 2 main rounded backgrounds - these containers are used to position the rounded bgs behind the menu icon */
	position: fixed;
	top: 18px;
	right: 5%;
	height: 4px;
	width: 4px;
	transform: translateX(-20px) translateY(20px);

	span {
		display: inline-block;
		position: absolute;
		border-radius: 50%;
		/* Force Hardware Acceleration in WebKit */
		transform: translateZ(0);
		backface-visibility: hidden;
		will-change: transform;
		transform-origin: 50% 50%;
		transform: scale(0);
	}

	&.is-hidden {
		/* background fades out at the end of the animation */
		opacity: 0;
		visibility: hidden;
		transition: opacity .3s 0s, visibility 0s .3s;
	}
}

.cd-overlay-nav {
	/* main rounded colored bg 1 */
	z-index: $layer-nav-zindex;

	span {
		background-color: $color-1;
	}
}

.cd-overlay-content {
	/* main rounded colored bg 2 */
	z-index: $layer-content-zindex;

	span {
		background-color: $color-3;
	}
}

.cd-content,
.main-content {
	z-index: $content-zindex;
}
